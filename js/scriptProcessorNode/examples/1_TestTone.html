<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>
	Javascript Audio Processing
</title>
<!-- <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=js&amp;skin=sunburst" defer="defer"></script> -->
<!-- show all line numbers-->
<style type="text/css">.prettyprint ol.linenums > li { list-style-type: decimal }</style>

<script src="../build/maximilian.js"></script>



</head>

<body>
	<h1> Test Tone </h1>
	<p id="funcs"></p>
	<p>
		A simple 440Hz sinewave.
	</p>
	<button id="playButton">Play</button>
	<!-- <pre class="prettyprint lang-js linenums:true" id="quine" style="border:4px solid #88c" > -->
</pre>
</body>
<!-- Our javascript code -->
<script type="text/javascript">

let m = maximilian();

// em++ -s WASM=0
var mySine = new m.maxiOsc();
var ma = new m.maxiAudio();

let playAudio = () => {

	// em++ -s WASM=1
	// var mySine = new m.maxiOsc();
	// var ma = new m.maxiAudio();

	ma.init();
	ma.play = function(){
		this.output = mySine.sinewave(440);
	}
}

const playButton = document.getElementById('playButton');
playButton.addEventListener("click", () => playAudio());

</script>
</html>
